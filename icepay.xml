<?xml version="1.0" encoding="UTF-8"?>
<extension method="upgrade" group="vmpayment" type="plugin" version="2.5">
	<name>ICEPAY Payment Module</name>
	<creationDate>May 2015</creationDate>
	<author>ICEPAY B.V.</author>
	<authorUrl>http://www.icepay.com</authorUrl>
	<copyright>(c) 2015 ICEPAY. All rights reserved.</copyright>
	<license>GNU/GPL, see http://www.gnu.org/licenses/gpl-3.0.html</license>
	<version>1.0.0</version>

	<description>
		<![CDATA[
			Make payments in your VirtueMart 3 webshop possible with <a href="http://www.icepay.com/" target="_blank">ICEPAY</a>.
			This VirtueMart 3 webshop module will be able to offer the most frequently used national and international online payment methods.
		]]>
	</description>

	<files>
		<!-- All other files will be handled by VirtueMart 3 -->
		<folder>icepay_api</folder>
		<filename plugin="icepay">icepay.php</filename>
	</files>

	<vmconfig>
		<fields name="params">
			<fieldset name="basic" addfieldpath="/administrator/components/com_virtuemart/fields">
				<!-- Title of the configuration page -->
				<field type="vmtitle" description="" default="ICEPAY Configuration" />
				<!-- // Title of the configuration page -->

				<!-- Merchant ID and Secretcode fields -->
				<field type="text" name="merchantid" description="Your ICEPAY Merchant ID" default="" label="ICEPAY Merchant ID" size="50" />
				<field type="text" name="secretcode" description="Your ICEPAY Secretcode" default="" label="ICEPAY Secretcode" size="50" />
				<!-- // Merchant ID and Secretcode fields -->

				<!-- Talk URL fields -->
				<field type="text" name="notify_url" default="" label="Postback URL" description="This is the page to which payment information will be sent." size="50" />
				<field type="text" name="error_url" default="" label="Error page" description="This is the page shown to the final user after a failed payment." size="50" />
				<!-- // Talk URL fields -->

				<!-- VirtueMart Orderstatus Fields -->
				<param type="vmorderstate" default="P" description="" label="ICEPAY_STATUS_OPEN" name="status_pending" scope="com_virtuemart" />
				<param type="vmorderstate" default="C" description="" label="ICEPAY_STATUS_OK" name="status_success" scope="com_virtuemart" />
				<param type="vmorderstate" default="X" description="" label="ICEPAY_STATUS_ERR" name="status_canceled" scope="com_virtuemart" />
				<param type="vmorderstate" default="R" description="" label="ICEPAY_STATUS_REFUND" name="status_refund" scope="com_virtuemart" />
				<param type="vmorderstate" default="R" description="" label="ICEPAY_STATUS_CBACK" name="status_chargeback" scope="com_virtuemart" />
				<!-- // VirtueMart Orderstatus Fields -->
			</fieldset>
		</fields>
	</vmconfig>
	<updateservers>
		<server type="extension" name="VirtueMart plg_vmpayment_icepay Update Site"><![CDATA[https://raw.githubusercontent.com/icepay/VirtueMart-3/master/version.xml]]></server>
	</updateservers>
</extension>